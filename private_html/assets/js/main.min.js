"use strict";var menuBtn=document.querySelector(".menu__toggle-btn"),navList=document.querySelector(".navbar__list"),navItms=document.querySelectorAll(".nav-item"),navProgress=document.querySelector(".navbar__progress-bar"),nav=document.querySelector(".header"),body=document.querySelector("body"),imgs=document.querySelectorAll(".projects__item-img"),sections=document.querySelectorAll(".section"),navMobileBtn=document.querySelector('a[data-button="left"]'),form=document.querySelector("form"),copyDate=document.querySelector(".copy-date"),closeMenu=function(){navList.setAttribute("data-visible",!1),menuBtn.setAttribute("aria-expanded",!1)},expandMenu=function(){navList.setAttribute("data-visible",!0),menuBtn.setAttribute("aria-expanded",!0)},handleMenu=function(){("true"===navList.getAttribute("data-visible")?closeMenu:expandMenu)()},handleMobileNavMenu=function(){var e=document.querySelector(".navbar-bottom"),t=document.querySelectorAll(".navbar-bottom ul li a");"none"===window.getComputedStyle(e).getPropertyValue("display")?t.forEach(function(e){e.setAttribute("aria-hidden",!0)}):t.forEach(function(e){e.setAttribute("aria-hidden",!1)})},handleNavProgress=function(){var e=window.scrollY,t=window.getComputedStyle(body),n=t.getPropertyValue("height"),e=e/parseInt(n,10),n=window.getComputedStyle(navProgress);1<e?navProgress.style.width="".concat(100,"%"):(n=n.getPropertyValue("width"),.6<e&&parseInt(n,10)>=parseInt(t.getPropertyValue("width"),10)?navProgress.style.width="100%":navProgress.style.width="".concat(170*e,"%"))};navItms.forEach(function(e){e.addEventListener("click",closeMenu)});var handleImg=function(){imgs.forEach(function(e){var t=e.getAttribute("data-src");e.style.backgroundImage="url(".concat(t,")")})},observerOptions={root:null,threshold:.5},menuLis=document.querySelectorAll(".navbar-bottom>ul>li"),observer=new IntersectionObserver(function(e,t){e.forEach(function(e){var t=window.getComputedStyle(menuLis[1]).getPropertyValue("display");e.isIntersecting&&"list-item"===t?e.target.classList.contains("landpage")?(navMobileBtn.innerHTML="oferta",navMobileBtn.setAttribute("href","#offer")):e.target.classList.contains("offer")?(navMobileBtn.innerHTML="projekty",navMobileBtn.setAttribute("href","#projects")):e.target.classList.contains("projects")&&(menuLis[0].style.width="100%",menuLis[1].style.display="none",navMobileBtn.innerHTML="kontakt",navMobileBtn.setAttribute("href","#contact")):e.isIntersecting&&e.target.classList.contains("contact")&&"none"===t?(navMobileBtn.innerHTML="wy≈õlij",navMobileBtn.setAttribute("href","#contact"),navMobileBtn.addEventListener("click",submitForm)):e.isIntersecting&&e.target.classList.contains("projects")?(navMobileBtn.innerHTML="kontakt",navMobileBtn.setAttribute("href","#contact"),navMobileBtn.removeEventListener("click",submitForm)):!e.isIntersecting||"none"!==t||e.target.classList.contains("projects")||e.target.classList.contains("contact")||(menuLis[1].style.display="list-item",menuLis[1].style.width="50%",menuLis[0].style.width="50%",navMobileBtn.innerHTML="projekty",navMobileBtn.setAttribute("href","#projects"),navMobileBtn.removeEventListener("click",submitForm))})},observerOptions);sections.forEach(function(e){observer.observe(e)});var clearForm=function(){document.querySelectorAll(".contact__form-input").forEach(function(e){e.value=""})},submitForm=function(){document.querySelector("form").submit()},handleCopyDate=function(){var e=new Date;copyDate.innerHTML=e.getFullYear()};menuBtn.addEventListener("click",handleMenu),window.addEventListener("scroll",handleNavProgress),window.addEventListener("load",handleImg),window.addEventListener("load",handleCopyDate),window.addEventListener("load",handleMobileNavMenu),window.addEventListener("resize",handleMobileNavMenu);